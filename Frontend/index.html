<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      * {
        font-family: cursive;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        height: 100vh;
        overflow: hidden;
        width: 100vw;
      }

      .content {
        height: 100vh;
        width: 100vw;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .uploadForm {
        height: 30%;
        width: 30%;

        background-color: cyan;
      }
    </style>
    
  </head>

  <body style="background-color: black">
    <div class="main">
      <nav class="bg-black border-gray-200 dark:bg-gray-900">
        <div
          class="w-screen flex flex-wrap items-center justify-between mx-auto p-4 bg-black"
        >
          <button
            data-collapse-toggle="navbar-default"
            type="button"
            class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
            aria-controls="navbar-default"
            aria-expanded="false"
          >
            <span class="sr-only">Open main menu</span>
            <svg
              class="w-5 h-5"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 17 14"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M1 1h15M1 7h15M1 13h15"
              />
            </svg>
          </button>
          <div
            class="hidden w-full md:block md:w-auto"
            id="navbar-default"
            style="
              display: flex;
              justify-content: center;
              align-items: center;
              width: 100vw;
              gap: 10px;
            "
          >
            <p class="text-white text-4xl">Fake Signature Detection</p>
          </div>
        </div>
      </nav>

      <div class="content">
        <div
          class="upload"
          style="
            height: 45vh;
            width: 30vw;
            border: 2px solid blue;
            border-style: dashed;
            border-radius: 20px;
            background-color: rgba(58, 58, 225, 0.148);
            display: flex;
            flex-direction: column;
            cursor: pointer;
          "
        >
          <span
            style="
              height: 50%;
              width: 100%;
              display: flex;
              justify-content: center;
              align-items: end;
            "
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="75"
              height="75"
              fill="white"
              class="bi bi-cloud-upload"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383"
              />
              <path
                fill-rule="evenodd"
                d="M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z"
              />
            </svg>
          </span>
          <span
            style="
              height: 50%;
              width: 100%;
              display: flex;
              justify-content: center;
              font-size: xx-large;
              color: white;
            "
            >Click to Upload</span
          >
        </div>
        <div class="uploadForm" hidden>
          <input
            class="block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"
            id="file_input"
            type="file"
          />
        </div>
        <span id="status" style="color: white; font-family: monospace"></span>
      </div>
    </div>

    <script>
      const uploadedFile = document.getElementsByClassName("upload")[0];
      const status = document.getElementById("status");
      const inp = document.getElementById("file_input");
      uploadedFile.addEventListener("click", () => {
        inp.click();
      });
      inp.addEventListener("change", (event) => {
        const file = event.target.files[0];

        // Replace with actual server upload logic (including error handling)
        const formData = new FormData();
        formData.append("image_data", file);

        fetch("http://localhost:5000/predict", {
          method: "POST",
          body: formData,
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
            status.innerText = `Prediction: ${
              data.result > 0.7 ? "yes" : "no"
            }`;
          })
          .catch((error) => {
            status.innerText = `Error: ${error.message}`;
          });
      });
    </script>
  </body>
</html>
